webpackJsonp([43],{2145:function(t,e,i){var n=i(2)(i(2592),i(2593),function(t){i(2590)},null,null);t.exports=n.exports},2311:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,a=s(i(600)),o=s(i(601)),l=(n=(0,o.default)(a.default.mark(function t(e){return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",r.default.HttpHelp.request({method:"POST",url:"/nl/afterSales/parcelInformation/filter",data:{status:e},params:{page:1,size:999}}));case 1:case"end":return t.stop()}},t,this)})),function(t){return n.apply(this,arguments)}),r=s(i(3));function s(t){return t&&t.__esModule?t:{default:t}}var c={filterParcelInfo:function(t,e){return r.default.HttpHelp.request({method:"POST",url:"/nl/afterSales/parcelInformation/filter",data:{parcel_no:e.parcel_no,status:e.status},params:{page:t,size:10}})},postParcelInfo:function(t){return r.default.HttpHelp.request({method:"POST",url:"/nl/afterSales/parcelInformation",data:t})},deleteParcelInfo:function(t){return r.default.HttpHelp.request({method:"DELETE",url:"/nl/afterSales/parcelInformation/"+t})},getParcelInfo:function(t){return r.default.HttpHelp.request({method:"GET",url:"/nl/afterSales/parcelInformation/"+t})},getParcelInfoDetail:function(t){return r.default.HttpHelp.request({method:"POST",url:"/nl/afterSales/parcelInformationDetail/filter",data:{parcel_id:t},params:{page:1,size:999}})},bulkParcelInfoDetail:function(t){return r.default.HttpHelp.request({method:"POST",url:"/nl/afterSales/parcelInformationDetail/bulk2",data:t})},putParcelInfoStatus:function(t,e){return r.default.HttpHelp.request({method:"put",url:"/nl/afterSales/parcelInformation/"+t+"/status",params:{status:e}})},filterParcelInfoByStatus:l};e.default=c},2590:function(t,e,i){var n=i(2591);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i(2089)("62057ba8",n,!0,{})},2591:function(t,e,i){(t.exports=i(2088)(!0)).push([t.i,".parcel-information{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;width:100%;height:100%}.parcel-information span.required{color:#e26829;display:inline-block}.parcel-information .list-form-inline{height:100%;line-height:50px}.parcel-information .list-form-inline .el-form-item{margin-right:2px!important;margin-bottom:0}.parcel-information .list-form-inline .el-form-item__label{color:#fff;padding:11px 12px}.parcel-information .list-form-inline .el-form-item__content{width:180px!important}.parcel-information .loading{width:100px;height:100px;position:absolute;top:50%;left:50%;margin-top:-50px;margin-left:-50px}.parcel-information .table-wrap .long-td{max-width:270px;text-overflow:ellipsis;overflow:hidden;text-align:left}.parcel-information .dialog-md{overflow:hidden}.parcel-information .dialog-md .el-dialog__body{font-size:0;padding:30px 20px 30px 48px}.parcel-information .dialog-md .item{width:50%;line-height:30px;display:inline-block}.parcel-information .dialog-md .item .input-special{width:250px}.parcel-information .dialog-md .item .title{display:inline-block;width:98px}.parcel-information .dialog-md .item .content{margin:10px;display:inline-block;width:250px}.parcel-information .dialog-md .item .content .country-code{width:94px}","",{version:3,sources:["C:/Users/dd/Desktop/besst-build/clientBESST/src/views/nl/after-sales/customer-service/parcel-information.vue"],names:[],mappings:"AACA,oBACE,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,4BAA6B,AAC7B,6BAA8B,AAC1B,0BAA2B,AACvB,sBAAuB,AAC/B,WAAY,AACZ,WAAa,CACd,AACD,kCACI,cAAe,AACf,oBAAsB,CACzB,AACD,sCACI,YAAa,AACb,gBAAkB,CACrB,AACD,oDACM,2BAA6B,AAC7B,eAAiB,CACtB,AACD,2DACM,WAAY,AACZ,iBAAmB,CACxB,AACD,6DACM,qBAAwB,CAC7B,AACD,6BACI,YAAa,AACb,aAAc,AACd,kBAAmB,AACnB,QAAS,AACT,SAAU,AACV,iBAAkB,AAClB,iBAAmB,CACtB,AACD,yCACI,gBAAiB,AACjB,uBAAwB,AACxB,gBAAiB,AACjB,eAAiB,CACpB,AACD,+BACI,eAAiB,CACpB,AACD,gDACM,YAAa,AACb,2BAA6B,CAClC,AACD,qCACM,UAAW,AACX,iBAAkB,AAClB,oBAAsB,CAC3B,AACD,oDACQ,WAAa,CACpB,AACD,4CACQ,qBAAsB,AACtB,UAAY,CACnB,AACD,8CACQ,YAAa,AACb,qBAAsB,AACtB,WAAa,CACpB,AACD,4DACU,UAAY,CACrB",file:"parcel-information.vue",sourcesContent:["\n.parcel-information {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n  width: 100%;\n  height: 100%;\n}\n.parcel-information span.required {\n    color: #e26829;\n    display: inline-block;\n}\n.parcel-information .list-form-inline {\n    height: 100%;\n    line-height: 50px;\n}\n.parcel-information .list-form-inline .el-form-item {\n      margin-right: 2px !important;\n      margin-bottom: 0;\n}\n.parcel-information .list-form-inline .el-form-item__label {\n      color: #fff;\n      padding: 11px 12px;\n}\n.parcel-information .list-form-inline .el-form-item__content {\n      width: 180px !important;\n}\n.parcel-information .loading {\n    width: 100px;\n    height: 100px;\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    margin-top: -50px;\n    margin-left: -50px;\n}\n.parcel-information .table-wrap .long-td {\n    max-width: 270px;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    text-align: left;\n}\n.parcel-information .dialog-md {\n    overflow: hidden;\n}\n.parcel-information .dialog-md .el-dialog__body {\n      font-size: 0;\n      padding: 30px 20px 30px 48px;\n}\n.parcel-information .dialog-md .item {\n      width: 50%;\n      line-height: 30px;\n      display: inline-block;\n}\n.parcel-information .dialog-md .item .input-special {\n        width: 250px;\n}\n.parcel-information .dialog-md .item .title {\n        display: inline-block;\n        width: 98px;\n}\n.parcel-information .dialog-md .item .content {\n        margin: 10px;\n        display: inline-block;\n        width: 250px;\n}\n.parcel-information .dialog-md .item .content .country-code {\n          width: 94px;\n}\n"],sourceRoot:""}])},2592:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(i(3)),a=(o(i(88)),o(i(2311)));function o(t){return t&&t.__esModule?t:{default:t}}e.default={data:function(){return{loading:!1,formSearch:{parcel_no:"",status:""},headData:[],tableList:[],statusList:["Create","Approved","Finish","Used"],currentPage:1,total:0,dialogDeleteVisible:!1,dialogReviewVisible:!1,currentID:""}},i18n:{messages:{}},created:function(){},computed:{},mounted:function(){this.headData=["Parcel No.","Customer","Vat No.","Operator","Creat time","Operation"],this.filterParcelInfo()},methods:{goAfterIndex:function(){this.$router.push({name:"afterIndex"})},onSearch:function(){this.filterParcelInfo()},onClean:function(){this.formSearch={},this.filterParcelInfo()},onEdit:function(t){this.$router.push({name:"ParcelInfoSave",query:{orderId:t.id}})},onDelete:function(t){this.currentID=t.id,this.dialogDeleteVisible=!0},handleCurrentChange:function(t){this.currentPage=t,n.default.Data.set(n.default.Const.DATA.KEY_AFTER_SALES_PAGE,this.currentPage),this.filterParcelInfo()},dialogAdd:function(){this.$router.push({name:"ParcelInfoSave"})},deleteInvitation:function(){var t=this,e=this;e.loading=!0,a.default.deleteParcelInfo(this.currentID).then(function(i){if(-2===i.data.code)throw i.data.message;t.loading=!1,t.dialogDeleteVisible=!1,e.filterParcelInfo()}).catch(function(e){t.$message({message:e,type:"error"}),t.dialogDeleteVisible=!1,t.loading=!1})},filterParcelInfo:function(){var t=this;t.loading=!0,a.default.filterParcelInfo(this.currentPage,this.formSearch).then(function(e){if(-2===e.data.code)throw e.data.message;t.tableList=e.data.content,t.total=e.data.totalElements,t.loading=!1}).catch(function(e){t.$message({message:e,type:"error"}),t.loading=!1})},handleCommand:function(t,e){this.status=t,this.currentID=e.id,this.dialogReviewVisible=!0},reviewInvitation:function(){var t=this,e=this.status;t.dialogReviewVisible=!1,t.loading=!0,a.default.putParcelInfoStatus(this.currentID,e).then(function(e){if(-2===e.data.code)throw e.data.message;t.$message({message:"Successful Review",type:"success"}),t.loading=!1,t.filterParcelInfo()}).catch(function(e){t.$message({message:e,type:"error"}),t.loading=!1})}},watch:{}}},2593:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"parcel-information"},[i("div",{staticClass:"search-header"},[i("div",{staticClass:"btn-group-inline"},[i("div",{staticClass:"icons"},[i("span",{staticClass:"icon-item back",attrs:{title:"back"},on:{click:t.goAfterIndex}})])]),t._v(" "),i("el-form",{staticClass:"list-form-inline",attrs:{inline:!0,model:t.formSearch}},[i("el-form-item",{attrs:{label:"Parcel No."}},[i("el-input",{attrs:{placeholder:"Parcel No."},model:{value:t.formSearch.parcel_no,callback:function(e){t.$set(t.formSearch,"parcel_no",e)},expression:"formSearch.parcel_no"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"Status"}},[i("el-select",{attrs:{filterable:""},model:{value:t.formSearch.status,callback:function(e){t.$set(t.formSearch,"status",e)},expression:"formSearch.status"}},t._l(t.statusList,function(e){return i("el-option",{key:e,attrs:{label:e,value:t.statusList.indexOf(e)}})}))],1),t._v(" "),i("div",{staticClass:"btn-group-inline-icon"},[i("div",{staticClass:"icons"},[i("div",{staticClass:"icon-item search",attrs:{title:"search"},on:{click:t.onSearch}}),t._v(" "),i("div",{staticClass:"icon-item clear",attrs:{title:"clear"},on:{click:t.onClean}})])])],1),t._v(" "),i("div",{staticClass:"btn-group-top"},[i("div",{staticClass:"icons"},[i("div",{directives:[{name:"ilpermission",rawName:"v-ilpermission",value:"parcel-information-add",expression:"'parcel-information-add'"}],staticClass:"icon-item add-v2",attrs:{title:"add"},on:{click:t.dialogAdd}})])])],1),t._v(" "),i("div",{directives:[{name:"loading",rawName:"v-loading.body",value:t.loading,expression:"loading",modifiers:{body:!0}}],staticClass:"table-wrap"},[i("div",{staticClass:"table-content-holder"},[t.tableList.length<=0&&!t.loading?i("div",{staticClass:"no-data-content"},[t._v("noResult")]):i("table",{staticClass:"table-content",attrs:{border:"0",cellspacing:"0",cellpadding:"0"}},[i("thead",t._l(t.headData,function(e,n){return i("td",{key:n},[t._v(t._s(e))])})),t._v(" "),!t.loading&&t.tableList.length>0?i("tbody",t._l(t.tableList,function(e){return i("tr",{key:e.id},[i("td",[t._v(t._s(e.parcel_no))]),t._v(" "),i("td",[t._v(t._s(e.customer_name))]),t._v(" "),i("td",[t._v(t._s(e.vat_no))]),t._v(" "),i("td",[t._v(t._s(e.create_user_name))]),t._v(" "),i("td",[t._v(t._s(t._f("dateFormat")(e.create_time)))]),t._v(" "),i("td",[t._v(t._s(t._f("statusPipe")(e.status,t.statusList)))]),t._v(" "),i("td",[i("a",{directives:[{name:"ilpermission",rawName:"v-ilpermission",value:"parcel-information-add",expression:"'parcel-information-add'"}],staticClass:"btn-underline",on:{click:function(i){i.stopPropagation(),t.onEdit(e)}}},[t._v("edit")]),t._v(" "),i("a",{directives:[{name:"ilpermission",rawName:"v-ilpermission",value:"parcel-information-delete",expression:"'parcel-information-delete'"}],staticClass:"btn-underline",on:{click:function(i){i.stopPropagation(),t.onDelete(e)}}},[t._v("delete")]),t._v(" "),i("el-dropdown",{directives:[{name:"ilpermission",rawName:"v-ilpermission",value:"parcel-information-review",expression:"'parcel-information-review'"}],staticClass:"statusDrop",attrs:{trigger:"click"},on:{command:function(i){t.handleCommand(i,e)}}},[i("span",{staticClass:"el-dropdown-link"},[t._v("\n                  action\n                  "),i("i",{staticClass:"el-icon-caret-bottom el-icon--right"})]),t._v(" "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{command:"Approved",disabled:1===e.status||2===e.status}},[t._v("Approved")]),t._v(" "),i("el-dropdown-item",{attrs:{command:"Finished",disabled:2===e.status}},[t._v("Finished")])],1)],1)],1)])})):t._e()])]),t._v(" "),i("div",{staticClass:"table-footer"},[i("el-pagination",{attrs:{"current-page":t.currentPage,"page-size":10,layout:"prev, pager, next, jumper",total:t.total},on:{"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage=e}}}),t._v(" "),i("p",{staticClass:"total"},[t._v("total: "+t._s(t.total))])],1)]),t._v(" "),i("el-dialog",{attrs:{title:"Review Shipment Order",visible:t.dialogReviewVisible,size:"tiny"},on:{"update:visible":function(e){t.dialogReviewVisible=e}}},[i("p",[t._v("Are you sure to do it ?")]),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:t.reviewInvitation}},[t._v("yes")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogReviewVisible=!1}}},[t._v("no")])],1)]),t._v(" "),i("el-dialog",{attrs:{title:"Delete Parcel Information",visible:t.dialogDeleteVisible,size:"tiny"},on:{"update:visible":function(e){t.dialogDeleteVisible=e}}},[i("p",[t._v("Are you sure to delete it ?")]),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:t.deleteInvitation}},[t._v("yes")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogDeleteVisible=!1}}},[t._v("no")])],1)])],1)},staticRenderFns:[]}}});
//# sourceMappingURL=43.12ac0414e828ec30d763.js.map